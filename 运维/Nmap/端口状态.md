# Nmap 端口状态

Nmap一共定义了6种端口状态，分别为： `open` (开放的)、 `closed` (关闭的)、 `filtered` (被过滤的)、 `unfiltered` (未被过滤的)、 `open|filtered` (开放或者被过滤的)和 `closed|filtered` (关闭或者被过滤的)。

下面分别介绍这6种状态：

## `open` (开放的)

应用程序正在该端口接收 `TCP` 连接或者 `UDP` 报文。发现这一点常常是端口扫描 的主要目标。安全意识强的人们知道**每个开放的端口都是攻击的入口**。攻击者或者入侵测试者想要发现开放的端口。 而管理员则试图关闭它们或者用防火墙保护它们以免妨碍了合法用户。非安全扫描可能对开放的端口也感兴趣，因为它们显示了网络上那些服务可供使用。

## `closed` (关闭的)

关闭的端口对于 `Nmap` 也是可访问的(它接受 `Nmap` 的探测报文并作出响应)， 但没有应用程序在其上监听。 它们可以显示该 `IP` 地址上(主机发现，或者 `ping` 扫描)的主机正在运行 `up` 也对部分操作系统探测有所帮助。 因为关闭的端口是可访问的，也许过会儿值得再扫描一下，可能一些又开放了。 系统管理员可能会考虑用**防火墙**封锁这样的端口。 那样他们就会被显示为被过滤的状态，下面讨论。

## `filtered` (被过滤的)

由于包过滤阻止探测报文到达端口， `Nmap` 无法确定该端口是否开放。过滤可能来自专业的防火墙设备，路由器规则 或者主机上的软件防火墙。这样的端口让攻击者感觉很挫折，因为它们几乎不提供 任何信息。有时候它们响应 `ICMP` 错误消息如**类型3代码13** (无法到达目标: 通信被管理员禁止)，但更普遍的是过滤器只是丢弃探测帧， 不做任何响应。 这迫使 `Nmap` 重试若干次以访万一探测包是由于网络阻塞丢弃的。 这使得扫描速度明显变慢。

## `unfiltered` (未被过滤的)

未被过滤状态意味着端口可访问，但 `Nmap` 不能确定它是开放还是关闭。 只有用于映射防火墙规则集的 `ACK` 扫描才会把端口分类到这种状态。 用其它类型的扫描如**窗口扫描**，**SYN扫描**，或者**FIN扫描**来扫描未被过滤的端口可以帮助确定 端口是否开放。

## `open|filtered` (开放或者被过滤的)

当无法确定端口是开放还是被过滤的， `Nmap` 就把该端口划分成这种状态。开放的端口不响应就是一个例子。没有响应也可能意味着报文过滤器丢弃了探测报文或者它引发的任何响应。因此 `Nmap` 无法确定该端口是开放的还是被过滤的。 `UDP` ， `IP` 协议， `FIN` ， `Null` ，和 `Xmas` 扫描可能把端口归入此类。

## `closed|filtered` (关闭或者被过滤的)

该状态用于 `Nmap` 不能确定端口是关闭的还是被过滤的。 它只可能出现在 `IPID`  `Idle` 扫描中。
