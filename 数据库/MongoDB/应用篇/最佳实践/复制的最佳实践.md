# MongoDB 复制的最佳实践

`副本集(Replica Set)` 是MongoDB在适当条件下提供**冗余、高可用性和更高读取吞吐量**的机制。

## 始终使用副本集

即使开发人员目前的数据集看起来很小，而且也不希望它以指数方式增长，但是，数据量爆发的情况永远在人们的意料之外。此外，拥有至少3台服务器的副本集**有助于设计冗余，将实时和分析之间的工作负载（使用辅助服务器）分开**，并从第一天开始构建数据冗余。

## 充分利用副本集的优点

副本集不仅适用于数据复制。在大多数情况下，**开发人员可以而且应该使用主服务器进行写入，并从其中一个辅助服务器读取首选项以卸载主服务器**。这可以通过设置 `读取首选项` 及正确的 `写入关注（Write Concern）` 来确保写入根据传播需要来完成。

## 在MongoDB中使用奇数个副本

如果服务器关闭或与其余服务器（网络分区）断开连接，则其余的服务器必须投票决定那个副本将被选为主服务器。
如果有奇数个副本集成员，则可以保证每个服务器自己都知道他们是属于副本集成员的多数还是少数。

扩展阅读：[脑裂](https://juejin.im/post/6844903895387340813)
